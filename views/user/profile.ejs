<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <!--CSS Global-->
    <link rel="stylesheet" href="/public/style.css">
    <!--CSS Especifico-->
    <link rel="stylesheet" href="/public/user-css/profile.css">
</head>
<body>
    <header class="header">
        <div class="logo" onclick="window.location.href='/'"><img src="/images/logo.png" id="logo"></div>

        <nav class="nav">
            <div class="mini-search-container">
              <input type="text" class="mini-search-bar" placeholder="Search...">
              <img src="/images/search.png" alt="Search Icon" class="icon">
            </div>
            <span class="nav-item">PC</span>
            <span class="nav-item">CONSOLE</span>
            <span class="nav-item">MOBILE</span>
          </nav>
        <div class="account">
          <img src="/images/profile.png" alt="User Icon" class="icon">
          <span>Sign in/Sign Up</span>
        </div>        
    </header>

    
    <main class="parent">
      <div class="div1"></div>
      <div class="div2">
          <h2><%= user.username %></h2>
          <p><%= user.bio || 'Biografia breve aqui...' %></p>
      </div>
      <button type="button" onclick="window.location.href='profile-settings.html'">Edit Profile</button>
  
      <section class="statistics">
          <header class="stats-header">
              <h2>Statistics</h2>
              <a>All Game Stats</a>
          </header>
          <div class="stats-bar"></div>
          <div class="stats-container">
              <ul class="stats-list">
                  <li><span class="dot playing"></span> Playing<span class="count"><%= games.filter(g => g.game_status === 'current').length %></span></li>
                  <li><span class="dot completed"></span> Completed<span class="count"><%= games.filter(g => g.game_status === 'completed').length %></span></li>
                  <li><span class="dot on-hold"></span> On-Hold<span class="count"><%= games.filter(g => g.game_status === 'on_hold').length %></span></li>
                  <li><span class="dot dropped"></span> Dropped<span class="count"><%= games.filter(g => g.game_status === 'dropped').length %></span></li>
                  <li><span class="dot plan-to-play"></span> Plan to Play<span class="count"><%= games.filter(g => g.game_status === 'wishlisted').length %></span></li>
              </ul>
              <ul class="stats-summary">
                  <li>Total Entries: <span class="count"><%= games.length %></span></li>
              </ul>
          </div>
      </section>
  
      <section class="last-completed">
          <h2>Last Completed Games</h2>
          <% const lastCompleted = games.filter(g => g.game_status === 'completed').slice(0, 3); %>
          <% lastCompleted.forEach(game => { %>
              <article class="completed-game">
                  <figure class="recent-game-card" style="background-image: url('<%= game.cover %>');"></figure>
                  <div>
                      <p><%= game.name %></p>
                      <small>Score: <%= game.rating || 'N/A' %></small>
                      <small>Platform: <%= game.platforms || 'N/A' %></small>
                  </div>
              </article>
          <% }) %>
      </section>
  
      <section class="favorites-section">
          <h2>Favorites</h2>
          <% const favorites = games.filter(g => g.is_favorite).slice(0, 6); %>
              <% favorites.forEach((favorite, index) => { %>
                  <div class="favorite-item favorite-item-<%= index + 1 %>" aria-label="Favorite Item <%= index + 1 %>" style="background-image: url('<%= favorite.cover %>');"></div>
              <% }) %>
      </section>
  </main>

  <footer>
    <div class="footer-container">
      <div class="social-media">
        <h4>Social Media</h4>
        <ul>
          <li><a href="#"><i class="fab fa-facebook"></i></a></li>
          <li><a href="#"><i class="fab fa-instagram"></i></a></li>
          <li><a href="#"><i class="fab fa-youtube"></i></a></li>
          <li><a href="#"><i class="fab fa-twitch"></i></a></li>
          <li><a href="#"><i class="fab fa-discord"></i></a></li>
          <li><a href="#"><i class="fab fa-tiktok"></i></a></li>
          <li><a href="#"><i class="fab fa-snapchat"></i></a></li>
        </ul>
        <div class="language">
          <label for="language-select">üåê</label>
          <select id="language-select">
            <option value="en">English</option>
            <option value="pt">Portugu√™s</option>
            <option value="es">Spanish</option>
          </select>
        </div>
      </div>
      <div class="institutional">
        <h4>Institutional</h4>
        <ul>
          <li><a href="#">About</a></li>
          <li><a href="#">Career</a></li>
          <li><a href="#">Your Game with us</a></li>
          <li><a href="#">Security</a></li>
        </ul>
      </div>
      <div class="help">
        <h4>Help</h4>
        <ul>
          <li><a href="#">Support</a></li>
          <li><a href="#">Terms of Use</a></li>
          <li><a href="#">Privacy Policy</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>LOGO ¬© 2011 - 2024</p>
    </div>
  </footer>


</body>
</html>